{"version":3,"file":"index.js","sources":["../src/js/reviews.js"],"sourcesContent":["import axios from 'axios';\n\nimport Swiper from 'swiper';\nimport { Navigation, Keyboard } from 'swiper/modules';\nSwiper.use([Navigation, Keyboard]);\nimport 'swiper/css';\n\nconst reviewsWrap = document.querySelector('#reviews-container');\nconst errorReviews = document.querySelector('.error-message');\nconst hideBtn = document.querySelector('.swiper-btns');\n\naxios.defaults.baseURL = 'https://portfolio-js.b.goit.study/api';\n\ndocument.addEventListener('DOMContentLoaded', displayReviews);\n\nconst swiper = new Swiper('.swiper', {\n  keyboard: {\n    enabled: true,\n    onlyInViewport: true,\n  },\n  navigation: {\n    nextEl: '.swiper-button-next',\n    prevEl: '.swiper-button-prev',\n  },\n  breakpoints: {\n    100: {\n      slidesPerView: 1,\n      spaceBetween: 20,\n    },\n    768: {\n      slidesPerView: 1,\n      spaceBetween: 30,\n    },\n    1280: {\n      slidesPerView: 2,\n      spaceBetween: 32,\n    },\n  },\n});\n// отримаємо всі відгуки з API\nasync function getReviews() {\n  try {\n    const { data } = await axios.get('/reviews');\n    return data;\n  } catch (error) {\n    console.log('Error fetching reviews');\n    showError();\n    btnHide();\n  }\n}\n//рендер відгуків\nfunction renderReviews(reviews) {\n  const markup = reviews\n    .map(\n      ({ author, avatar_url, review }) => `\n          <li class=\"swiper-slide libox\">\n            <div class=\"review-card\">\n            <p class=\"review-text\">${review}</p>\n            <div class=\"review-info\">\n              <img src=\"${avatar_url}\" alt=\"${author}\" class=\"review-avatar\" />\n              <h3 class=\"review-author\">${author}</h3>\n              </div>\n\n            </div>\n          </li>\n        `\n    )\n    .join('');\n\n  reviewsWrap.insertAdjacentHTML('beforeend', markup);\n  swiper.update();\n}\n\n// функція яка відображає відгуки або повідомлення про помилку\nasync function displayReviews() {\n  const reviews = await getReviews();\n  if (reviews) {\n    renderReviews(reviews);\n  }\n}\n\nfunction showError() {\n  errorReviews.classList.remove('visually-hidden');\n}\nfunction btnHide() {\n  hideBtn.classList.add('visually-hidden');\n}\n"],"names":["Swiper","Navigation","Keyboard","reviewsWrap","errorReviews","hideBtn","axios","displayReviews","swiper","getReviews","data","showError","btnHide","renderReviews","reviews","markup","author","avatar_url","review"],"mappings":"swBAIAA,EAAO,IAAI,CAACC,EAAYC,CAAQ,CAAC,EAGjC,MAAMC,EAAc,SAAS,cAAc,oBAAoB,EACzDC,EAAe,SAAS,cAAc,gBAAgB,EACtDC,EAAU,SAAS,cAAc,cAAc,EAErDC,EAAM,SAAS,QAAU,wCAEzB,SAAS,iBAAiB,mBAAoBC,CAAc,EAE5D,MAAMC,EAAS,IAAIR,EAAO,UAAW,CACnC,SAAU,CACR,QAAS,GACT,eAAgB,EACjB,EACD,WAAY,CACV,OAAQ,sBACR,OAAQ,qBACT,EACD,YAAa,CACX,IAAK,CACH,cAAe,EACf,aAAc,EACf,EACD,IAAK,CACH,cAAe,EACf,aAAc,EACf,EACD,KAAM,CACJ,cAAe,EACf,aAAc,EACf,CACF,CACH,CAAC,EAED,eAAeS,GAAa,CAC1B,GAAI,CACF,KAAM,CAAE,KAAAC,CAAI,EAAK,MAAMJ,EAAM,IAAI,UAAU,EAC3C,OAAOI,CACR,MAAe,CACd,QAAQ,IAAI,wBAAwB,EACpCC,IACAC,GACD,CACH,CAEA,SAASC,EAAcC,EAAS,CAC9B,MAAMC,EAASD,EACZ,IACC,CAAC,CAAE,OAAAE,EAAQ,WAAAC,EAAY,OAAAC,CAAQ,IAAK;AAAA;AAAA;AAAA,qCAGLA,CAAM;AAAA;AAAA,0BAEjBD,CAAU,UAAUD,CAAM;AAAA,0CACVA,CAAM;AAAA;AAAA;AAAA;AAAA;AAAA,SAM3C,EACA,KAAK,EAAE,EAEVb,EAAY,mBAAmB,YAAaY,CAAM,EAClDP,EAAO,OAAM,CACf,CAGA,eAAeD,GAAiB,CAC9B,MAAMO,EAAU,MAAML,IAClBK,GACFD,EAAcC,CAAO,CAEzB,CAEA,SAASH,GAAY,CACnBP,EAAa,UAAU,OAAO,iBAAiB,CACjD,CACA,SAASQ,GAAU,CACjBP,EAAQ,UAAU,IAAI,iBAAiB,CACzC"}